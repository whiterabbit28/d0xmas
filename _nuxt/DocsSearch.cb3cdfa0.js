import{C as fe,D as Ke,r as N,E as M,d as ee,G as X,A as _,H as j,I as ht,J as gt,K as vt,L as he,o as ce,M as ie,N as _e,O as mt,P as bt,Q as yt,R as xe,S as He,F as ge,U as Ee,V as ve,W as xt,X as St,Y as It,Z as kt,$ as G,a0 as Ue,a as wt,a1 as Ot,a2 as W,k as $e,a3 as Se,a4 as ze,a5 as We,a6 as J,b as P,c as K,n as $,t as Z,f as H,e as U,a7 as me,a8 as V,w as z,a9 as ae,aa as oe,ab as Ct,ac as Mt,ad as qe,ae as be,af as Ge,ag as Pe,ah as de,ai as Ye,aj as Xe,ak as Rt,al as At,g as ue,am as Et,an as $t,ao as Pt,ap as Lt,aq as Tt,ar as _t,as as Nt,at as Ft,au as Je,av as Bt,u as jt,x as Vt,aw as Dt,ax as Kt,ay as Ht,az as Ut,aA as Y,aB as zt}from"./entry.e137fa1a.js";const Wt={wrapper:"flex flex-col flex-1 min-h-0 divide-y divide-gray-100 dark:divide-gray-800",container:"relative flex-1 overflow-y-auto divide-y divide-gray-100 dark:divide-gray-800 scroll-py-2",input:{wrapper:"relative flex items-center",base:"w-full placeholder-gray-400 dark:placeholder-gray-500 bg-transparent border-0 text-gray-900 dark:text-white focus:ring-0 focus:outline-none",padding:"px-4",height:"h-12",size:"sm:text-sm",icon:{base:"pointer-events-none absolute start-4 text-gray-400 dark:text-gray-500",size:"h-4 w-4",padding:"ps-10"},closeButton:"absolute end-4"},emptyState:{wrapper:"flex flex-col items-center justify-center flex-1 px-6 py-14 sm:px-14",label:"text-sm text-center text-gray-900 dark:text-white",queryLabel:"text-sm text-center text-gray-900 dark:text-white",icon:"w-6 h-6 mx-auto text-gray-400 dark:text-gray-500 mb-4"},group:{wrapper:"p-2",label:"px-2 my-2 text-xs font-semibold text-gray-900 dark:text-white",container:"text-sm text-gray-700 dark:text-gray-200",command:{base:"flex justify-between select-none items-center rounded-md px-2 py-1.5 gap-2 relative",active:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactive:"",label:"flex items-center gap-1.5 min-w-0",prefix:"text-gray-400 dark:text-gray-500",suffix:"text-gray-400 dark:text-gray-500",container:"flex items-center gap-2 min-w-0",icon:{base:"flex-shrink-0 w-4 h-4",active:"text-gray-900 dark:text-white",inactive:"text-gray-400 dark:text-gray-500"},selectedIcon:{base:"h-4 w-4 text-gray-900 dark:text-white flex-shrink-0"},avatar:{base:"flex-shrink-0",size:"3xs"},chip:{base:"flex-shrink-0 w-2 h-2 mx-1 rounded-full"},disabled:"opacity-50",shortcuts:"hidden md:inline-flex flex-shrink-0 gap-0.5"},active:"flex-shrink-0 text-gray-500 dark:text-gray-400",inactive:"flex-shrink-0 text-gray-500 dark:text-gray-400"},default:{icon:"i-heroicons-magnifying-glass-20-solid",loadingIcon:"i-heroicons-arrow-path-20-solid",emptyState:{icon:"i-heroicons-magnifying-glass-20-solid",label:"We couldn't find any items.",queryLabel:"We couldn't find any items with that term. Please try again."},closeButton:null,selectedIcon:"i-heroicons-check-20-solid"}},qt={wrapper:"relative z-50",inner:"fixed inset-0 overflow-y-auto",container:"flex min-h-full items-end sm:items-center justify-center text-center",padding:"p-4 sm:p-0",margin:"sm:my-8",base:"relative text-left rtl:text-right overflow-hidden w-full flex flex-col",overlay:{base:"fixed inset-0 transition-opacity",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"}},background:"bg-white dark:bg-gray-900",ring:"",rounded:"rounded-lg",shadow:"shadow-xl",width:"sm:max-w-lg",height:"",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"}};function Gt(e){throw new Error("Unexpected object: "+e)}var B=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(B||{});function Yt(e,t){let n=t.resolveItems();if(n.length<=0)return null;let s=t.resolveActiveIndex(),o=s??-1,a=(()=>{switch(e.focus){case 0:return n.findIndex(r=>!t.resolveDisabled(r));case 1:{let r=n.slice().reverse().findIndex((l,u,c)=>o!==-1&&c.length-u-1>=o?!1:!t.resolveDisabled(l));return r===-1?r:n.length-1-r}case 2:return n.findIndex((r,l)=>l<=o?!1:!t.resolveDisabled(r));case 3:{let r=n.slice().reverse().findIndex(l=>!t.resolveDisabled(l));return r===-1?r:n.length-1-r}case 4:return n.findIndex(r=>t.resolveId(r)===e.id);case 5:return null;default:Gt(e)}})();return a===-1?s:a}function Xt({container:e,accept:t,walk:n,enabled:s}){fe(()=>{let o=e.value;if(!o||s!==void 0&&!s.value)return;let a=Ke(e);if(!a)return;let r=Object.assign(u=>t(u),{acceptNode:t}),l=a.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,r,!1);for(;l.nextNode();)n(l.currentNode)})}function Qe(e={},t=null,n=[]){for(let[s,o]of Object.entries(e))et(n,Ze(t,s),o);return n}function Ze(e,t){return e?e+"["+t+"]":t}function et(e,t,n){if(Array.isArray(n))for(let[s,o]of n.entries())et(e,Ze(t,s.toString()),o);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):Qe(n,t,e)}function Jt(e,t,n){let s=N(n==null?void 0:n.value),o=M(()=>e.value!==void 0);return[M(()=>o.value?e.value:s.value),function(a){return o.value||(s.value=a),t==null?void 0:t(a)}]}function Ne(e){return[e.screenX,e.screenY]}function Qt(){let e=N([-1,-1]);return{wasMoved(t){let n=Ne(t);return e.value[0]===n[0]&&e.value[1]===n[1]?!1:(e.value=n,!0)},update(t){e.value=Ne(t)}}}function Zt(e,t){return e===t}var en=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(en||{}),tn=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(tn||{}),nn=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(nn||{});let tt=Symbol("ComboboxContext");function Ie(e){let t=St(tt,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ie),n}return t}let an=ee({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Zt},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:t,attrs:n,emit:s}){let o=N(1),a=N(null),r=N(null),l=N(null),u=N(null),c=N({static:!1,hold:!1}),i=N([]),d=N(null),h=N(1),x=N(!1);function I(p=f=>f){let f=d.value!==null?i.value[d.value]:null,y=It(p(i.value.slice()),R=>j(R.dataRef.domRef)),S=f?y.indexOf(f):null;return S===-1&&(S=null),{options:y,activeOptionIndex:S}}let w=M(()=>e.multiple?1:0),C=M(()=>e.nullable),[v,A]=Jt(M(()=>e.modelValue),p=>s("update:modelValue",p),M(()=>e.defaultValue)),E=M(()=>v.value===void 0?X(w.value,{1:[],0:void 0}):v.value),T=null,L=null,b={comboboxState:o,value:E,mode:w,compare(p,f){if(typeof e.by=="string"){let y=e.by;return(p==null?void 0:p[y])===(f==null?void 0:f[y])}return e.by(p,f)},defaultValue:M(()=>e.defaultValue),nullable:C,inputRef:r,labelRef:a,buttonRef:l,optionsRef:u,disabled:M(()=>e.disabled),options:i,change(p){A(p)},activeOptionIndex:M(()=>{if(x.value&&d.value===null&&i.value.length>0){let p=i.value.findIndex(f=>!f.dataRef.disabled);p!==-1&&(d.value=p)}return d.value}),activationTrigger:h,optionsPropsRef:c,closeCombobox(){x.value=!1,!e.disabled&&o.value!==1&&(o.value=1,d.value=null)},openCombobox(){if(x.value=!0,e.disabled||o.value===0)return;let p=i.value.findIndex(f=>{let y=_(f.dataRef.value);return X(w.value,{0:()=>b.compare(_(b.value.value),_(y)),1:()=>_(b.value.value).some(S=>b.compare(_(S),_(y)))})});p!==-1&&(d.value=p),o.value=0},goToOption(p,f,y){x.value=!1,T!==null&&cancelAnimationFrame(T),T=requestAnimationFrame(()=>{if(e.disabled||u.value&&!c.value.static&&o.value===1)return;let S=I();if(S.activeOptionIndex===null){let O=S.options.findIndex(F=>!F.dataRef.disabled);O!==-1&&(S.activeOptionIndex=O)}let R=Yt(p===B.Specific?{focus:B.Specific,id:f}:{focus:p},{resolveItems:()=>S.options,resolveActiveIndex:()=>S.activeOptionIndex,resolveId:O=>O.id,resolveDisabled:O=>O.dataRef.disabled});d.value=R,h.value=y??1,i.value=S.options})},selectOption(p){let f=i.value.find(S=>S.id===p);if(!f)return;let{dataRef:y}=f;A(X(w.value,{0:()=>y.value,1:()=>{let S=_(b.value.value).slice(),R=_(y.value),O=S.findIndex(F=>b.compare(R,_(F)));return O===-1?S.push(R):S.splice(O,1),S}}))},selectActiveOption(){if(b.activeOptionIndex.value===null)return;let{dataRef:p,id:f}=i.value[b.activeOptionIndex.value];A(X(w.value,{0:()=>p.value,1:()=>{let y=_(b.value.value).slice(),S=_(p.value),R=y.findIndex(O=>b.compare(S,_(O)));return R===-1?y.push(S):y.splice(R,1),y}})),b.goToOption(B.Specific,f)},registerOption(p,f){L&&cancelAnimationFrame(L);let y={id:p,dataRef:f},S=I(R=>(R.push(y),R));if(d.value===null){let R=f.value.value;X(w.value,{0:()=>b.compare(_(b.value.value),_(R)),1:()=>_(b.value.value).some(O=>b.compare(_(O),_(R)))})&&(S.activeOptionIndex=S.options.indexOf(y))}i.value=S.options,d.value=S.activeOptionIndex,h.value=1,S.options.some(R=>!j(R.dataRef.domRef))&&(L=requestAnimationFrame(()=>{let R=I();i.value=R.options,d.value=R.activeOptionIndex}))},unregisterOption(p){var f;b.activeOptionIndex.value!==null&&((f=b.options.value[b.activeOptionIndex.value])==null?void 0:f.id)===p&&(x.value=!0);let y=I(S=>{let R=S.findIndex(O=>O.id===p);return R!==-1&&S.splice(R,1),S});i.value=y.options,d.value=y.activeOptionIndex,h.value=1}};ht([r,l,u],()=>b.closeCombobox(),M(()=>o.value===0)),gt(tt,b),vt(M(()=>X(o.value,{0:he.Open,1:he.Closed})));let g=M(()=>b.activeOptionIndex.value===null?null:i.value[b.activeOptionIndex.value].dataRef.value),m=M(()=>{var p;return(p=j(r))==null?void 0:p.closest("form")});return ce(()=>{ie([m],()=>{if(!m.value||e.defaultValue===void 0)return;function p(){b.change(e.defaultValue)}return m.value.addEventListener("reset",p),()=>{var f;(f=m.value)==null||f.removeEventListener("reset",p)}},{immediate:!0})}),()=>{let{name:p,disabled:f,form:y,...S}=e,R={open:o.value===0,disabled:f,activeIndex:b.activeOptionIndex.value,activeOption:g.value,value:E.value};return _e(ge,[...p!=null&&E.value!=null?Qe({[p]:E.value}).map(([O,F])=>_e(mt,bt({features:yt.Hidden,key:O,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:y,name:O,value:F}))):[],xe({theirProps:{...n,...He(S,["modelValue","defaultValue","nullable","multiple","onUpdate:modelValue","by"])},ourProps:{},slot:R,slots:t,attrs:n,name:"Combobox"})])}}}),on=ee({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:()=>`headlessui-combobox-input-${Ee()}`}},emits:{change:e=>!0},setup(e,{emit:t,attrs:n,slots:s,expose:o}){let a=Ie("ComboboxInput"),r=M(()=>Ke(j(a.inputRef))),l={value:!1};o({el:a.inputRef,$el:a.inputRef});function u(){a.change(null);let v=j(a.optionsRef);v&&(v.scrollTop=0),a.goToOption(B.Nothing)}let c=M(()=>{var v;let A=a.value.value;return j(a.inputRef)?typeof e.displayValue<"u"&&A!==void 0?(v=e.displayValue(A))!=null?v:"":typeof A=="string"?A:"":""});ce(()=>{ie([c,a.comboboxState,r],([v,A],[E,T])=>{if(l.value)return;let L=j(a.inputRef);L&&((T===0&&A===1||v!==E)&&(L.value=v),requestAnimationFrame(()=>{var b;if(l.value||!L||((b=r.value)==null?void 0:b.activeElement)!==L)return;let{selectionStart:g,selectionEnd:m}=L;Math.abs((m??0)-(g??0))===0&&g===0&&L.setSelectionRange(L.value.length,L.value.length)}))},{immediate:!0}),ie([a.comboboxState],([v],[A])=>{if(v===0&&A===1){if(l.value)return;let E=j(a.inputRef);if(!E)return;let T=E.value,{selectionStart:L,selectionEnd:b,selectionDirection:g}=E;E.value="",E.value=T,g!==null?E.setSelectionRange(L,b,g):E.setSelectionRange(L,b)}})});let i=N(!1);function d(){i.value=!0}function h(){kt().nextFrame(()=>{i.value=!1})}function x(v){switch(l.value=!0,v.key){case G.Enter:if(l.value=!1,a.comboboxState.value!==0||i.value)return;if(v.preventDefault(),v.stopPropagation(),a.activeOptionIndex.value===null){a.closeCombobox();return}a.selectActiveOption(),a.mode.value===0&&a.closeCombobox();break;case G.ArrowDown:return l.value=!1,v.preventDefault(),v.stopPropagation(),X(a.comboboxState.value,{0:()=>a.goToOption(B.Next),1:()=>a.openCombobox()});case G.ArrowUp:return l.value=!1,v.preventDefault(),v.stopPropagation(),X(a.comboboxState.value,{0:()=>a.goToOption(B.Previous),1:()=>{a.openCombobox(),Ue(()=>{a.value.value||a.goToOption(B.Last)})}});case G.Home:if(v.shiftKey)break;return l.value=!1,v.preventDefault(),v.stopPropagation(),a.goToOption(B.First);case G.PageUp:return l.value=!1,v.preventDefault(),v.stopPropagation(),a.goToOption(B.First);case G.End:if(v.shiftKey)break;return l.value=!1,v.preventDefault(),v.stopPropagation(),a.goToOption(B.Last);case G.PageDown:return l.value=!1,v.preventDefault(),v.stopPropagation(),a.goToOption(B.Last);case G.Escape:if(l.value=!1,a.comboboxState.value!==0)return;v.preventDefault(),a.optionsRef.value&&!a.optionsPropsRef.value.static&&v.stopPropagation(),a.nullable.value&&a.mode.value===0&&a.value.value===null&&u(),a.closeCombobox();break;case G.Tab:if(l.value=!1,a.comboboxState.value!==0)return;a.mode.value===0&&a.selectActiveOption(),a.closeCombobox();break}}function I(v){t("change",v),a.nullable.value&&a.mode.value===0&&v.target.value===""&&u(),a.openCombobox()}function w(){l.value=!1}let C=M(()=>{var v,A,E,T;return(T=(E=(A=e.defaultValue)!=null?A:a.defaultValue.value!==void 0?(v=e.displayValue)==null?void 0:v.call(e,a.defaultValue.value):null)!=null?E:a.defaultValue.value)!=null?T:""});return()=>{var v,A,E,T,L,b;let g={open:a.comboboxState.value===0},{id:m,displayValue:p,onChange:f,...y}=e,S={"aria-controls":(v=a.optionsRef.value)==null?void 0:v.id,"aria-expanded":a.comboboxState.value===0,"aria-activedescendant":a.activeOptionIndex.value===null||(A=a.options.value[a.activeOptionIndex.value])==null?void 0:A.id,"aria-labelledby":(L=(E=j(a.labelRef))==null?void 0:E.id)!=null?L:(T=j(a.buttonRef))==null?void 0:T.id,"aria-autocomplete":"list",id:m,onCompositionstart:d,onCompositionend:h,onKeydown:x,onInput:I,onBlur:w,role:"combobox",type:(b=n.type)!=null?b:"text",tabIndex:0,ref:a.inputRef,defaultValue:C.value,disabled:a.disabled.value===!0?!0:void 0};return xe({ourProps:S,theirProps:y,slot:g,attrs:n,slots:s,features:ve.RenderStrategy|ve.Static,name:"ComboboxInput"})}}}),sn=ee({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:t,slots:n,expose:s}){let o=Ie("ComboboxOptions"),a=`headlessui-combobox-options-${Ee()}`;s({el:o.optionsRef,$el:o.optionsRef}),fe(()=>{o.optionsPropsRef.value.static=e.static}),fe(()=>{o.optionsPropsRef.value.hold=e.hold});let r=xt(),l=M(()=>r!==null?(r.value&he.Open)===he.Open:o.comboboxState.value===0);return Xt({container:M(()=>j(o.optionsRef)),enabled:M(()=>o.comboboxState.value===0),accept(u){return u.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:u.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(u){u.setAttribute("role","none")}}),()=>{var u,c,i;let d={open:o.comboboxState.value===0},h={"aria-labelledby":(i=(u=j(o.labelRef))==null?void 0:u.id)!=null?i:(c=j(o.buttonRef))==null?void 0:c.id,id:a,ref:o.optionsRef,role:"listbox","aria-multiselectable":o.mode.value===1?!0:void 0},x=He(e,["hold"]);return xe({ourProps:h,theirProps:x,slot:d,attrs:t,slots:n,features:ve.RenderStrategy|ve.Static,visible:l.value,name:"ComboboxOptions"})}}}),rn=ee({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:n,expose:s}){let o=Ie("ComboboxOption"),a=`headlessui-combobox-option-${Ee()}`,r=N(null);s({el:r,$el:r});let l=M(()=>o.activeOptionIndex.value!==null?o.options.value[o.activeOptionIndex.value].id===a:!1),u=M(()=>X(o.mode.value,{0:()=>o.compare(_(o.value.value),_(e.value)),1:()=>_(o.value.value).some(C=>o.compare(_(C),_(e.value)))})),c=M(()=>({disabled:e.disabled,value:e.value,domRef:r}));ce(()=>o.registerOption(a,c)),wt(()=>o.unregisterOption(a)),fe(()=>{o.comboboxState.value===0&&l.value&&o.activationTrigger.value!==0&&Ue(()=>{var C,v;return(v=(C=j(r))==null?void 0:C.scrollIntoView)==null?void 0:v.call(C,{block:"nearest"})})});function i(C){if(e.disabled)return C.preventDefault();o.selectOption(a),o.mode.value===0&&o.closeCombobox(),Ot()||requestAnimationFrame(()=>{var v;return(v=j(o.inputRef))==null?void 0:v.focus()})}function d(){if(e.disabled)return o.goToOption(B.Nothing);o.goToOption(B.Specific,a)}let h=Qt();function x(C){h.update(C)}function I(C){h.wasMoved(C)&&(e.disabled||l.value||o.goToOption(B.Specific,a,0))}function w(C){h.wasMoved(C)&&(e.disabled||l.value&&(o.optionsPropsRef.value.hold||o.goToOption(B.Nothing)))}return()=>{let{disabled:C}=e,v={active:l.value,selected:u.value,disabled:C},A={id:a,ref:r,role:"option",tabIndex:C===!0?void 0:-1,"aria-disabled":C===!0?!0:void 0,"aria-selected":u.value,disabled:void 0,onClick:i,onFocus:d,onPointerenter:x,onMouseenter:x,onPointermove:I,onMousemove:I,onPointerleave:w,onMouseleave:w};return xe({ourProps:A,theirProps:e,slot:v,attrs:n,slots:t,name:"ComboboxOption"})}}});function Q(e){return Array.isArray?Array.isArray(e):ot(e)==="[object Array]"}const ln=1/0;function un(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-ln?"-0":t}function cn(e){return e==null?"":un(e)}function q(e){return typeof e=="string"}function nt(e){return typeof e=="number"}function dn(e){return e===!0||e===!1||pn(e)&&ot(e)=="[object Boolean]"}function at(e){return typeof e=="object"}function pn(e){return at(e)&&e!==null}function D(e){return e!=null}function ke(e){return!e.trim().length}function ot(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const fn="Incorrect 'index' type",hn=e=>`Invalid value for key ${e}`,gn=e=>`Pattern length exceeds max of ${e}.`,vn=e=>`Missing ${e} property in key`,mn=e=>`Property 'weight' in key '${e}' must be a positive integer`,Fe=Object.prototype.hasOwnProperty;class bn{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(s=>{let o=st(s);n+=o.weight,this._keys.push(o),this._keyMap[o.id]=o,n+=o.weight}),this._keys.forEach(s=>{s.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function st(e){let t=null,n=null,s=null,o=1,a=null;if(q(e)||Q(e))s=e,t=Be(e),n=we(e);else{if(!Fe.call(e,"name"))throw new Error(vn("name"));const r=e.name;if(s=r,Fe.call(e,"weight")&&(o=e.weight,o<=0))throw new Error(mn(r));t=Be(r),n=we(r),a=e.getFn}return{path:t,id:n,weight:o,src:s,getFn:a}}function Be(e){return Q(e)?e:e.split(".")}function we(e){return Q(e)?e.join("."):e}function yn(e,t){let n=[],s=!1;const o=(a,r,l)=>{if(D(a))if(!r[l])n.push(a);else{let u=r[l];const c=a[u];if(!D(c))return;if(l===r.length-1&&(q(c)||nt(c)||dn(c)))n.push(cn(c));else if(Q(c)){s=!0;for(let i=0,d=c.length;i<d;i+=1)o(c[i],r,l+1)}else r.length&&o(c,r,l+1)}};return o(e,q(t)?t.split("."):t,0),s?n:n[0]}const xn={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Sn={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},In={location:0,threshold:.6,distance:100},kn={useExtendedSearch:!1,getFn:yn,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var k={...Sn,...xn,...In,...kn};const wn=/[^ ]+/g;function On(e=1,t=3){const n=new Map,s=Math.pow(10,t);return{get(o){const a=o.match(wn).length;if(n.has(a))return n.get(a);const r=1/Math.pow(a,.5*e),l=parseFloat(Math.round(r*s)/s);return n.set(a,l),l},clear(){n.clear()}}}class Le{constructor({getFn:t=k.getFn,fieldNormWeight:n=k.fieldNormWeight}={}){this.norm=On(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,s)=>{this._keysMap[n.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,q(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();q(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,s=this.size();n<s;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!D(t)||ke(t))return;let s={v:t,i:n,n:this.norm.get(t)};this.records.push(s)}_addObject(t,n){let s={i:n,$:{}};this.keys.forEach((o,a)=>{let r=o.getFn?o.getFn(t):this.getFn(t,o.path);if(D(r)){if(Q(r)){let l=[];const u=[{nestedArrIndex:-1,value:r}];for(;u.length;){const{nestedArrIndex:c,value:i}=u.pop();if(D(i))if(q(i)&&!ke(i)){let d={v:i,i:c,n:this.norm.get(i)};l.push(d)}else Q(i)&&i.forEach((d,h)=>{u.push({nestedArrIndex:h,value:d})})}s.$[a]=l}else if(q(r)&&!ke(r)){let l={v:r,n:this.norm.get(r)};s.$[a]=l}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function rt(e,t,{getFn:n=k.getFn,fieldNormWeight:s=k.fieldNormWeight}={}){const o=new Le({getFn:n,fieldNormWeight:s});return o.setKeys(e.map(st)),o.setSources(t),o.create(),o}function Cn(e,{getFn:t=k.getFn,fieldNormWeight:n=k.fieldNormWeight}={}){const{keys:s,records:o}=e,a=new Le({getFn:t,fieldNormWeight:n});return a.setKeys(s),a.setIndexRecords(o),a}function pe(e,{errors:t=0,currentLocation:n=0,expectedLocation:s=0,distance:o=k.distance,ignoreLocation:a=k.ignoreLocation}={}){const r=t/e.length;if(a)return r;const l=Math.abs(s-n);return o?r+l/o:l?1:r}function Mn(e=[],t=k.minMatchCharLength){let n=[],s=-1,o=-1,a=0;for(let r=e.length;a<r;a+=1){let l=e[a];l&&s===-1?s=a:!l&&s!==-1&&(o=a-1,o-s+1>=t&&n.push([s,o]),s=-1)}return e[a-1]&&a-s>=t&&n.push([s,a-1]),n}const ne=32;function Rn(e,t,n,{location:s=k.location,distance:o=k.distance,threshold:a=k.threshold,findAllMatches:r=k.findAllMatches,minMatchCharLength:l=k.minMatchCharLength,includeMatches:u=k.includeMatches,ignoreLocation:c=k.ignoreLocation}={}){if(t.length>ne)throw new Error(gn(ne));const i=t.length,d=e.length,h=Math.max(0,Math.min(s,d));let x=a,I=h;const w=l>1||u,C=w?Array(d):[];let v;for(;(v=e.indexOf(t,I))>-1;){let g=pe(t,{currentLocation:v,expectedLocation:h,distance:o,ignoreLocation:c});if(x=Math.min(g,x),I=v+i,w){let m=0;for(;m<i;)C[v+m]=1,m+=1}}I=-1;let A=[],E=1,T=i+d;const L=1<<i-1;for(let g=0;g<i;g+=1){let m=0,p=T;for(;m<p;)pe(t,{errors:g,currentLocation:h+p,expectedLocation:h,distance:o,ignoreLocation:c})<=x?m=p:T=p,p=Math.floor((T-m)/2+m);T=p;let f=Math.max(1,h-p+1),y=r?d:Math.min(h+p,d)+i,S=Array(y+2);S[y+1]=(1<<g)-1;for(let O=y;O>=f;O-=1){let F=O-1,se=n[e.charAt(F)];if(w&&(C[F]=+!!se),S[O]=(S[O+1]<<1|1)&se,g&&(S[O]|=(A[O+1]|A[O])<<1|1|A[O+1]),S[O]&L&&(E=pe(t,{errors:g,currentLocation:F,expectedLocation:h,distance:o,ignoreLocation:c}),E<=x)){if(x=E,I=F,I<=h)break;f=Math.max(1,2*h-I)}}if(pe(t,{errors:g+1,currentLocation:h,expectedLocation:h,distance:o,ignoreLocation:c})>x)break;A=S}const b={isMatch:I>=0,score:Math.max(.001,E)};if(w){const g=Mn(C,l);g.length?u&&(b.indices=g):b.isMatch=!1}return b}function An(e){let t={};for(let n=0,s=e.length;n<s;n+=1){const o=e.charAt(n);t[o]=(t[o]||0)|1<<s-n-1}return t}class it{constructor(t,{location:n=k.location,threshold:s=k.threshold,distance:o=k.distance,includeMatches:a=k.includeMatches,findAllMatches:r=k.findAllMatches,minMatchCharLength:l=k.minMatchCharLength,isCaseSensitive:u=k.isCaseSensitive,ignoreLocation:c=k.ignoreLocation}={}){if(this.options={location:n,threshold:s,distance:o,includeMatches:a,findAllMatches:r,minMatchCharLength:l,isCaseSensitive:u,ignoreLocation:c},this.pattern=u?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const i=(h,x)=>{this.chunks.push({pattern:h,alphabet:An(h),startIndex:x})},d=this.pattern.length;if(d>ne){let h=0;const x=d%ne,I=d-x;for(;h<I;)i(this.pattern.substr(h,ne),h),h+=ne;if(x){const w=d-ne;i(this.pattern.substr(w),w)}}else i(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,includeMatches:s}=this.options;if(n||(t=t.toLowerCase()),this.pattern===t){let I={isMatch:!0,score:0};return s&&(I.indices=[[0,t.length-1]]),I}const{location:o,distance:a,threshold:r,findAllMatches:l,minMatchCharLength:u,ignoreLocation:c}=this.options;let i=[],d=0,h=!1;this.chunks.forEach(({pattern:I,alphabet:w,startIndex:C})=>{const{isMatch:v,score:A,indices:E}=Rn(t,I,w,{location:o+C,distance:a,threshold:r,findAllMatches:l,minMatchCharLength:u,includeMatches:s,ignoreLocation:c});v&&(h=!0),d+=A,v&&E&&(i=[...i,...E])});let x={isMatch:h,score:h?d/this.chunks.length:1};return h&&s&&(x.indices=i),x}}class te{constructor(t){this.pattern=t}static isMultiMatch(t){return je(t,this.multiRegex)}static isSingleMatch(t){return je(t,this.singleRegex)}search(){}}function je(e,t){const n=e.match(t);return n?n[1]:null}class En extends te{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class $n extends te{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const s=t.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class Pn extends te{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Ln extends te{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Tn extends te{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class _n extends te{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class lt extends te{constructor(t,{location:n=k.location,threshold:s=k.threshold,distance:o=k.distance,includeMatches:a=k.includeMatches,findAllMatches:r=k.findAllMatches,minMatchCharLength:l=k.minMatchCharLength,isCaseSensitive:u=k.isCaseSensitive,ignoreLocation:c=k.ignoreLocation}={}){super(t),this._bitapSearch=new it(t,{location:n,threshold:s,distance:o,includeMatches:a,findAllMatches:r,minMatchCharLength:l,isCaseSensitive:u,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class ut extends te{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,s;const o=[],a=this.pattern.length;for(;(s=t.indexOf(this.pattern,n))>-1;)n=s+a,o.push([s,n-1]);const r=!!o.length;return{isMatch:r,score:r?0:1,indices:o}}}const Oe=[En,ut,Pn,Ln,_n,Tn,$n,lt],Ve=Oe.length,Nn=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Fn="|";function Bn(e,t={}){return e.split(Fn).map(n=>{let s=n.trim().split(Nn).filter(a=>a&&!!a.trim()),o=[];for(let a=0,r=s.length;a<r;a+=1){const l=s[a];let u=!1,c=-1;for(;!u&&++c<Ve;){const i=Oe[c];let d=i.isMultiMatch(l);d&&(o.push(new i(d,t)),u=!0)}if(!u)for(c=-1;++c<Ve;){const i=Oe[c];let d=i.isSingleMatch(l);if(d){o.push(new i(d,t));break}}}return o})}const jn=new Set([lt.type,ut.type]);class Vn{constructor(t,{isCaseSensitive:n=k.isCaseSensitive,includeMatches:s=k.includeMatches,minMatchCharLength:o=k.minMatchCharLength,ignoreLocation:a=k.ignoreLocation,findAllMatches:r=k.findAllMatches,location:l=k.location,threshold:u=k.threshold,distance:c=k.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:s,minMatchCharLength:o,findAllMatches:r,ignoreLocation:a,location:l,threshold:u,distance:c},this.pattern=n?t:t.toLowerCase(),this.query=Bn(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:o}=this.options;t=o?t:t.toLowerCase();let a=0,r=[],l=0;for(let u=0,c=n.length;u<c;u+=1){const i=n[u];r.length=0,a=0;for(let d=0,h=i.length;d<h;d+=1){const x=i[d],{isMatch:I,indices:w,score:C}=x.search(t);if(I){if(a+=1,l+=C,s){const v=x.constructor.type;jn.has(v)?r=[...r,...w]:r.push(w)}}else{l=0,a=0,r.length=0;break}}if(a){let d={isMatch:!0,score:l/a};return s&&(d.indices=r),d}}return{isMatch:!1,score:1}}}const Ce=[];function Dn(...e){Ce.push(...e)}function Me(e,t){for(let n=0,s=Ce.length;n<s;n+=1){let o=Ce[n];if(o.condition(e,t))return new o(e,t)}return new it(e,t)}const ye={AND:"$and",OR:"$or"},Re={PATH:"$path",PATTERN:"$val"},Ae=e=>!!(e[ye.AND]||e[ye.OR]),Kn=e=>!!e[Re.PATH],Hn=e=>!Q(e)&&at(e)&&!Ae(e),De=e=>({[ye.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function ct(e,t,{auto:n=!0}={}){const s=o=>{let a=Object.keys(o);const r=Kn(o);if(!r&&a.length>1&&!Ae(o))return s(De(o));if(Hn(o)){const u=r?o[Re.PATH]:a[0],c=r?o[Re.PATTERN]:o[u];if(!q(c))throw new Error(hn(u));const i={keyId:we(u),pattern:c};return n&&(i.searcher=Me(c,t)),i}let l={children:[],operator:a[0]};return a.forEach(u=>{const c=o[u];Q(c)&&c.forEach(i=>{l.children.push(s(i))})}),l};return Ae(e)||(e=De(e)),s(e)}function Un(e,{ignoreFieldNorm:t=k.ignoreFieldNorm}){e.forEach(n=>{let s=1;n.matches.forEach(({key:o,norm:a,score:r})=>{const l=o?o.weight:null;s*=Math.pow(r===0&&l?Number.EPSILON:r,(l||1)*(t?1:a))}),n.score=s})}function zn(e,t){const n=e.matches;t.matches=[],D(n)&&n.forEach(s=>{if(!D(s.indices)||!s.indices.length)return;const{indices:o,value:a}=s;let r={indices:o,value:a};s.key&&(r.key=s.key.src),s.idx>-1&&(r.refIndex=s.idx),t.matches.push(r)})}function Wn(e,t){t.score=e.score}function qn(e,t,{includeMatches:n=k.includeMatches,includeScore:s=k.includeScore}={}){const o=[];return n&&o.push(zn),s&&o.push(Wn),e.map(a=>{const{idx:r}=a,l={item:t[r],refIndex:r};return o.length&&o.forEach(u=>{u(a,l)}),l})}class le{constructor(t,n={},s){this.options={...k,...n},this.options.useExtendedSearch,this._keyStore=new bn(this.options.keys),this.setCollection(t,s)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof Le))throw new Error(fn);this._myIndex=n||rt(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){D(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let s=0,o=this._docs.length;s<o;s+=1){const a=this._docs[s];t(a,s)&&(this.removeAt(s),s-=1,o-=1,n.push(a))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:s,includeScore:o,shouldSort:a,sortFn:r,ignoreFieldNorm:l}=this.options;let u=q(t)?q(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Un(u,{ignoreFieldNorm:l}),a&&u.sort(r),nt(n)&&n>-1&&(u=u.slice(0,n)),qn(u,this._docs,{includeMatches:s,includeScore:o})}_searchStringList(t){const n=Me(t,this.options),{records:s}=this._myIndex,o=[];return s.forEach(({v:a,i:r,n:l})=>{if(!D(a))return;const{isMatch:u,score:c,indices:i}=n.searchIn(a);u&&o.push({item:a,idx:r,matches:[{score:c,value:a,norm:l,indices:i}]})}),o}_searchLogical(t){const n=ct(t,this.options),s=(l,u,c)=>{if(!l.children){const{keyId:d,searcher:h}=l,x=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(u,d),searcher:h});return x&&x.length?[{idx:c,item:u,matches:x}]:[]}const i=[];for(let d=0,h=l.children.length;d<h;d+=1){const x=l.children[d],I=s(x,u,c);if(I.length)i.push(...I);else if(l.operator===ye.AND)return[]}return i},o=this._myIndex.records,a={},r=[];return o.forEach(({$:l,i:u})=>{if(D(l)){let c=s(n,l,u);c.length&&(a[u]||(a[u]={idx:u,item:l,matches:[]},r.push(a[u])),c.forEach(({matches:i})=>{a[u].matches.push(...i)}))}}),r}_searchObjectList(t){const n=Me(t,this.options),{keys:s,records:o}=this._myIndex,a=[];return o.forEach(({$:r,i:l})=>{if(!D(r))return;let u=[];s.forEach((c,i)=>{u.push(...this._findMatches({key:c,value:r[i],searcher:n}))}),u.length&&a.push({idx:l,item:r,matches:u})}),a}_findMatches({key:t,value:n,searcher:s}){if(!D(n))return[];let o=[];if(Q(n))n.forEach(({v:a,i:r,n:l})=>{if(!D(a))return;const{isMatch:u,score:c,indices:i}=s.searchIn(a);u&&o.push({score:c,key:t,value:a,idx:r,norm:l,indices:i})});else{const{v:a,n:r}=n,{isMatch:l,score:u,indices:c}=s.searchIn(a);l&&o.push({score:u,key:t,value:a,norm:r,indices:c})}return o}}le.version="6.6.2";le.createIndex=rt;le.parseIndex=Cn;le.config=k;le.parseQuery=ct;Dn(Vn);function Gn(e,t,n){const s=()=>{var r,l;return new le((r=W(t))!=null?r:[],(l=W(n))==null?void 0:l.fuseOptions)},o=N(s());ie(()=>{var r;return(r=W(n))==null?void 0:r.fuseOptions},()=>{o.value=s()},{deep:!0}),ie(()=>W(t),r=>{o.value.setCollection(r)},{deep:!0});const a=M(()=>{const r=W(n);if(r!=null&&r.matchAllWhenSearchEmpty&&!W(e))return W(t).map((u,c)=>({item:u,refIndex:c}));const l=r==null?void 0:r.resultLimit;return o.value.search(W(e),l?{limit:l}:void 0)});return{fuse:o,results:a}}const Yn=ee({components:{HComboboxOption:rn,UIcon:Se,UAvatar:ze,UKbd:We},props:{group:{type:Object,required:!0},query:{type:String,default:""},groupAttribute:{type:String,required:!0},commandAttribute:{type:String,required:!0},selectedIcon:{type:String,required:!0},ui:{type:Object,required:!0}},setup(e){const t=M(()=>{const s=e.group[e.groupAttribute];return typeof s=="function"?s(e.query):s});function n(s,{indices:o,value:a}){if(s===a)return"";let r="",l=0;o.forEach(c=>{const i=c[1]+1,d=i-c[0]>=e.query.length;r+=[a.substring(l,c[0]),d&&"<mark>",a.substring(c[0],i),d&&"</mark>"].filter(Boolean).join(""),l=i}),r+=a.substring(l);const u=r.indexOf("<mark>");return u>60&&(r=`...${r.substring(u-60)}`),r}return{label:t,highlight:n}}}),Xn=["aria-label"],Jn=["innerHTML"];function Qn(e,t,n,s,o,a){const r=Se,l=ze,u=We,c=J("HComboboxOption");return P(),K("div",{class:$(e.ui.group.wrapper),role:"option"},[e.label?(P(),K("h2",{key:0,class:$(e.ui.group.label)},Z(e.label),3)):H("",!0),U("div",{class:$(e.ui.group.container),role:"listbox","aria-label":e.group[e.groupAttribute]},[(P(!0),K(ge,null,me(e.group.commands,(i,d)=>(P(),V(c,{key:`${e.group.key}-${d}`,value:i,disabled:i.disabled,as:"template"},{default:z(({active:h,selected:x})=>[U("div",{class:$([e.ui.group.command.base,h?e.ui.group.command.active:e.ui.group.command.inactive,i.disabled?"cursor-not-allowed":"cursor-pointer"])},[U("div",{class:$(e.ui.group.command.container)},[ae(e.$slots,`${e.group.key}-icon`,{group:e.group,command:i,active:h,selected:x},()=>[i.icon?(P(),V(r,{key:0,name:i.icon,class:$([e.ui.group.command.icon.base,h?e.ui.group.command.icon.active:e.ui.group.command.icon.inactive,i.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):i.avatar?(P(),V(l,oe({key:1},{size:e.ui.group.command.avatar.size,...i.avatar},{class:e.ui.group.command.avatar.base,"aria-hidden":"true"}),null,16,["class"])):i.chip?(P(),K("span",{key:2,class:$(e.ui.group.command.chip.base),style:Ct({background:`#${i.chip}`})},null,6)):H("",!0)]),U("div",{class:$([e.ui.group.command.label,i.disabled&&e.ui.group.command.disabled])},[ae(e.$slots,`${e.group.key}-command`,{group:e.group,command:i,active:h,selected:x},()=>{var I,w;return[i.prefix?(P(),K("span",{key:0,class:$(["flex-shrink-0",i.prefixClass||e.ui.group.command.prefix])},Z(i.prefix),3)):H("",!0),U("span",{class:$(["truncate",{"flex-none":i.suffix||((I=i.matches)==null?void 0:I.length)}])},Z(i[e.commandAttribute]),3),(w=i.matches)!=null&&w.length?(P(),K("span",{key:1,class:$(["truncate",i.suffixClass||e.ui.group.command.suffix]),innerHTML:e.highlight(i[e.commandAttribute],i.matches[0])},null,10,Jn)):i.suffix?(P(),K("span",{key:2,class:$(["truncate",i.suffixClass||e.ui.group.command.suffix])},Z(i.suffix),3)):H("",!0)]})],2)],2),x?(P(),V(r,{key:0,name:e.selectedIcon,class:$(e.ui.group.command.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])):h&&(e.group.active||e.$slots[`${e.group.key}-active`])?ae(e.$slots,`${e.group.key}-active`,{key:1,group:e.group,command:i,active:h,selected:x},()=>[e.group.active?(P(),K("span",{key:0,class:$(e.ui.group.active)},Z(e.group.active),3)):H("",!0)]):ae(e.$slots,`${e.group.key}-inactive`,{key:2,group:e.group,command:i,active:h,selected:x},()=>{var I;return[(I=i.shortcuts)!=null&&I.length?(P(),K("span",{key:0,class:$(e.ui.group.command.shortcuts)},[(P(!0),K(ge,null,me(i.shortcuts,w=>(P(),V(u,{key:w},{default:z(()=>[Mt(Z(w),1)]),_:2},1024))),128))],2)):!i.disabled&&e.group.inactive?(P(),K("span",{key:1,class:$(e.ui.group.inactive)},Z(e.group.inactive),3)):H("",!0)]})],2)]),_:2},1032,["value","disabled"]))),128))],10,Xn)],2)}const Zn=$e(Yn,[["render",Qn]]),re=qe(be.ui.strategy,be.ui.commandPalette,Wt),ea=ee({components:{HCombobox:an,HComboboxInput:on,HComboboxOptions:sn,UIcon:Se,UButton:Ge,CommandPaletteGroup:Zn},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array],default:null},by:{type:String,default:"id"},multiple:{type:Boolean,default:!1},nullable:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},groups:{type:Array,default:()=>[]},icon:{type:String,default:()=>re.default.icon},loadingIcon:{type:String,default:()=>re.default.loadingIcon},selectedIcon:{type:String,default:()=>re.default.selectedIcon},closeButton:{type:Object,default:()=>re.default.closeButton},emptyState:{type:Object,default:()=>re.default.emptyState},placeholder:{type:String,default:"Search..."},groupAttribute:{type:String,default:"label"},commandAttribute:{type:String,default:"label"},autoselect:{type:Boolean,default:!0},autoclear:{type:Boolean,default:!0},debounce:{type:Number,default:200},fuse:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:void 0}},emits:["update:modelValue","close"],setup(e,{emit:t,expose:n}){const{ui:s,attrs:o}=Pe("commandPalette",de(e,"ui"),re,de(e,"class")),a=N(""),r=N(),l=N(null),u=N(!1);ce(()=>{e.autoselect&&E()}),ce(()=>{setTimeout(()=>{var m;const b=(m=r.value)==null?void 0:m.$.provides;if(!b)return;const g=Object.getOwnPropertySymbols(b);l.value=g.length&&b[g[0]]},200)});const c=M(()=>Ye({},e.fuse,{fuseOptions:{keys:[e.commandAttribute]},resultLimit:12,matchAllWhenSearchEmpty:!0})),i=M(()=>{const b=[];for(const g of e.groups)g.search||b.push(...g.commands.map(m=>({...m,group:g.key})));return b}),d=N({}),{results:h}=Gn(a,i,c),x=M(()=>{var m,p;const b=[],g={};for(const f of h.value)g[m=f.item.group]||(g[m]=[]),g[f.item.group].push(f);for(const f in g){const y=e.groups.find(R=>R.key===f);let S=g[f].map(R=>{const{item:O,...F}=R;return{...O,...F}});y.filter&&typeof y.filter=="function"&&(S=y.filter(a.value,S)),b.push({...y,commands:S.slice(0,c.value.resultLimit)})}for(const f of e.groups)if(f.search&&((p=d.value[f.key])!=null&&p.length)){let y=d.value[f.key]||[];f.filter&&typeof f.filter=="function"&&(y=f.filter(a.value,y)),b.push({...f,commands:y.slice(0,c.value.resultLimit)})}return b}),I=Xe(async()=>{const b=e.groups.filter(g=>!!g.search);b.length&&(u.value=!0,await Promise.all(b.map(async g=>{d.value[g.key]=await g.search(a.value)})),u.value=!1,A())},e.debounce);ie(a,()=>{I(),A()});const w=M(()=>(e.loading||u.value)&&e.loadingIcon?e.loadingIcon:e.icon),C=M(()=>Rt(s.value.input.icon.base,s.value.input.icon.size,(e.loading||u.value)&&e.loadingIcon&&"animate-spin")),v=M(()=>({...s.value.default.emptyState,...e.emptyState}));function A(){setTimeout(()=>{var b;(b=r.value)==null||b.$el.dispatchEvent(new KeyboardEvent("keydown",{key:"PageUp"}))},0)}function E(){setTimeout(()=>{var b;(b=r.value)==null||b.$el.dispatchEvent(new KeyboardEvent("keydown",{key:"ArrowDown"}))},0)}function T(b){t("update:modelValue",b,{query:a.value}),e.autoclear&&setTimeout(()=>{a.value=""},0)}function L(){a.value?a.value="":t("close")}return n({query:a,updateQuery:b=>{a.value=b},comboboxApi:l,results:h}),{ui:s,attrs:o,groups:x,comboboxInput:r,query:a,iconName:w,iconClass:C,emptyState:v,onSelect:T,onClear:L}}});function ta(e,t,n,s,o,a){const r=Se,l=J("HComboboxInput"),u=Ge,c=J("CommandPaletteGroup"),i=J("HComboboxOptions"),d=J("HCombobox");return P(),V(d,oe({by:e.by,"model-value":e.modelValue,multiple:e.multiple,nullable:e.nullable,class:e.ui.wrapper},e.attrs,{as:"div","onUpdate:modelValue":e.onSelect}),{default:z(()=>[At(U("div",{class:$(e.ui.input.wrapper)},[e.iconName?(P(),V(r,{key:0,name:e.iconName,class:$(e.iconClass),"aria-hidden":"true"},null,8,["name","class"])):H("",!0),ue(l,{ref:"comboboxInput",value:e.query,class:$([e.ui.input.base,e.ui.input.size,e.ui.input.height,e.ui.input.padding,e.icon&&e.ui.input.icon.padding]),placeholder:e.placeholder,"aria-label":e.placeholder,autocomplete:"off",onChange:t[0]||(t[0]=h=>e.query=h.target.value)},null,8,["value","class","placeholder","aria-label"]),e.closeButton?(P(),V(u,oe({key:1,"aria-label":"Close"},{...e.ui.default.closeButton,...e.closeButton},{class:e.ui.input.closeButton,onClick:e.onClear}),null,16,["class","onClick"])):H("",!0)],2),[[Et,e.searchable]]),e.groups.length?(P(),V(i,{key:0,static:"",hold:"",as:"div","aria-label":"Commands",class:$(e.ui.container)},{default:z(()=>[(P(!0),K(ge,null,me(e.groups,h=>(P(),V(c,{key:h.key,query:e.query,group:h,"group-attribute":e.groupAttribute,"command-attribute":e.commandAttribute,"selected-icon":e.selectedIcon,ui:e.ui},$t({_:2},[me(e.$slots,(x,I)=>({name:I,fn:z(w=>[ae(e.$slots,I,Pt(Lt(w)))])}))]),1032,["query","group","group-attribute","command-attribute","selected-icon","ui"]))),128))]),_:3},8,["class"])):e.emptyState?ae(e.$slots,"empty-state",{key:1},()=>[U("div",{class:$(e.ui.emptyState.wrapper)},[e.emptyState.icon?(P(),V(r,{key:0,name:e.emptyState.icon,class:$(e.ui.emptyState.icon),"aria-hidden":"true"},null,8,["name","class"])):H("",!0),U("p",{class:$(e.query?e.ui.emptyState.queryLabel:e.ui.emptyState.label)},Z(e.query?e.emptyState.queryLabel:e.emptyState.label),3)],2)]):H("",!0)]),_:3},16,["by","model-value","multiple","nullable","class","onUpdate:modelValue"])}const na=$e(ea,[["render",ta]]),aa=qe(be.ui.strategy,be.ui.modal,qt),oa=ee({components:{HDialog:Tt,HDialogPanel:_t,TransitionRoot:Nt,TransitionChild:Ft},inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},appear:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},transition:{type:Boolean,default:!0},preventClose:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:void 0}},emits:["update:modelValue","close"],setup(e,{emit:t}){const{ui:n,attrs:s}=Pe("modal",de(e,"ui"),aa,de(e,"class")),o=M({get(){return e.modelValue},set(l){t("update:modelValue",l)}}),a=M(()=>e.transition?{...n.value.transition}:{});function r(l){o.value=l,t("close")}return{ui:n,attrs:s,isOpen:o,transitionClass:a,close:r}}});function sa(e,t,n,s,o,a){const r=J("TransitionChild"),l=J("HDialogPanel"),u=J("HDialog"),c=J("TransitionRoot");return P(),V(c,{appear:e.appear,show:e.isOpen,as:"template"},{default:z(()=>[ue(u,oe({class:e.ui.wrapper},e.attrs,{onClose:t[0]||(t[0]=i=>!e.preventClose&&e.close(i))}),{default:z(()=>[e.overlay?(P(),V(r,oe({key:0,as:"template",appear:e.appear},e.ui.overlay.transition),{default:z(()=>[U("div",{class:$([e.ui.overlay.base,e.ui.overlay.background])},null,2)]),_:1},16,["appear"])):H("",!0),U("div",{class:$(e.ui.inner)},[U("div",{class:$([e.ui.container,!e.fullscreen&&e.ui.padding])},[ue(r,oe({as:"template",appear:e.appear},e.transitionClass),{default:z(()=>[ue(l,{class:$([e.ui.base,e.ui.background,e.ui.ring,e.ui.shadow,e.fullscreen?"w-screen":e.ui.width,e.fullscreen?"h-screen":e.ui.height,e.fullscreen?"rounded-none":e.ui.rounded,e.fullscreen?"m-0":e.ui.margin])},{default:z(()=>[ae(e.$slots,"default")]),_:3},8,["class"])]),_:3},16,["appear"])],2)],2)]),_:3},16,["class"])]),_:3},8,["appear","show"])}const ra=$e(oa,[["render",sa]]),dt=e=>{if(!e.children)return e._path;for(const t of(e==null?void 0:e.children)||[]){const n=dt(t);if(n)return n}},pt=(e,t)=>{for(const n of t){if(n._path===e&&!n._id)return n.children;if(n.children){const s=pt(e,n.children);if(s)return s}}},ft=(e,t)=>{for(const n of t){if(n._path===e)return n;if(n.children){const s=ft(e,n.children);if(s)return s}}},ia=(e,t,n)=>{let s;const o=(a,r)=>{for(const l of r)if(!(a!=="/"&&l._path==="/")){if(a!=null&&a.startsWith(l._path)&&l[t]&&(s=l[t]),l._path===a)return;l.children&&o(a,l.children)}};return o(e,n),s},la=()=>({navBottomLink:dt,navDirFromPath:pt,navPageFromPath:ft,navKeyFromPath:ia});function ua(...e){return M(()=>e.every(t=>W(t)))}function ca(e){return M(()=>!W(e))}const da=/^[^-]+.*-.*[^-]+$/,pa=/^[^_]+.*_.*[^_]+$/,fa=(e,t={})=>{const{macOS:n,usingInput:s}=Je();let o=[];const a=N([]),r=()=>{a.value.splice(0,a.value.length)},l=Xe(r,t.chainDelay??800),u=c=>{if(!c.key)return;const i=/^[a-z]{1}$/i.test(c.key);let d;if(a.value.push(c.key),a.value.length>=2){d=a.value.slice(-2).join("-");for(const h of o.filter(x=>x.chained))if(h.key===d){h.condition.value&&(c.preventDefault(),h.handler()),r();return}}for(const h of o.filter(x=>!x.chained))if(c.key.toLowerCase()===h.key&&c.metaKey===h.metaKey&&c.ctrlKey===h.ctrlKey&&!(i&&c.shiftKey!==h.shiftKey)){h.condition.value&&(c.preventDefault(),h.handler()),r();return}l()};o=Object.entries(e).map(([c,i])=>{var I,w;if(!i)return null;let d;c.includes("-")&&c!=="-"&&!((I=c.match(da))!=null&&I.length)&&console.trace(`[Shortcut] Invalid key: "${c}"`),c.includes("_")&&c!=="_"&&!((w=c.match(pa))!=null&&w.length)&&console.trace(`[Shortcut] Invalid key: "${c}"`);const h=c.includes("-")&&c!=="-";if(h)d={key:c.toLowerCase(),metaKey:!1,ctrlKey:!1,shiftKey:!1,altKey:!1};else{const C=c.toLowerCase().split("_").map(v=>v);d={key:C.filter(v=>!["meta","ctrl","shift","alt"].includes(v)).join("_"),metaKey:C.includes("meta"),ctrlKey:C.includes("ctrl"),shiftKey:C.includes("shift"),altKey:C.includes("alt")}}if(d.chained=h,!n.value&&d.metaKey&&!d.ctrlKey&&(d.metaKey=!1,d.ctrlKey=!0),typeof i=="function"?d.handler=i:typeof i=="object"&&(d={...d,handler:i.handler}),!d.handler)return console.trace("[Shortcut] Invalid value"),null;const x=[];return i.usingInput?typeof i.usingInput=="string"&&x.push(M(()=>s.value===i.usingInput)):x.push(ca(s)),d.condition=ua(...x,...i.whenever||[]),d}).filter(Boolean),Bt("keydown",u)},ga=ee({__name:"DocsSearch",props:{files:{},navigation:{},links:{},groups:{},fuse:{},hideColorMode:{type:Boolean},ui:{}},setup(e,{expose:t}){const n={padding:"p-0 sm:p-4",rounded:"rounded-none sm:rounded-lg",width:"sm:max-w-3xl",height:"h-screen sm:h-[28rem]",commandPalette:{input:{height:"h-[--header-height] sm:h-12",icon:{size:"h-5 w-5",padding:"ps-11"}},group:{command:{prefix:"!text-foreground after:content-['_>']"}},container:"scroll-py-10",closeButton:{icon:"i-heroicons-x-mark-20-solid",color:"gray",variant:"ghost",size:"xs"}},fileIcon:{name:"i-heroicons-document-text"}},s=e,o=jt(),{navKeyFromPath:a}=la(),r=Vt(),{usingInput:l}=Je(),{isDocsSearchModalOpen:u}=Dt(),c=Kt({mobile:640}),i=Ht(),{ui:d,attrs:h}=Pe("docs.search",de(s,"ui"),n,void 0,!0),x=c.smaller("mobile"),I=N();function w(g){var m;return g.icon?g.icon:(m=g.navigation)!=null&&m.icon?g.navigation.icon:(s.navigation&&(g.icon=a(g._path,"icon",s.navigation)),g.icon||d.value.fileIcon.name)}const C=M(()=>Ye({},s.fuse,{fuseOptions:{ignoreLocation:!0,includeMatches:!0,threshold:.1,keys:[{name:"title",weight:5},{name:"label",weight:5},{name:"suffix",weight:3},"children.children.value","children.children.children.value"]},resultLimit:12})),v=M(()=>{var g;return[((g=s.links)==null?void 0:g.length)&&{key:"links",label:"Links",commands:s.links.flatMap(m=>[m.to&&{id:o.resolve(m.to).fullPath,...m,icon:m.icon||d.value.fileIcon.name},...(m.children||[]).map(p=>({id:o.resolve(p.to).fullPath,prefix:m.label,suffix:p.description,...p,icon:p.icon||m.icon||d.value.fileIcon.name}))]).filter(Boolean)},...(s.navigation||[]).map(m=>({key:m._path,label:m.title,commands:s.files.filter(p=>{var f;return(f=p._path)==null?void 0:f.startsWith(m._path)}).flatMap(p=>{var y,S,R;const f=(y=Ut(m.children,p))==null?void 0:y.map(({title:O})=>O).join(" > ");return[{id:p._id,label:((S=p.navigation)==null?void 0:S.title)||p.title,title:((R=p.navigation)==null?void 0:R.title)||p.title,prefix:f,to:p._path,suffix:p.description,icon:w(p)},...Object.entries(L(p.body.children)).map(([O,{title:F,children:se}])=>{var Te;if(F)return{id:`${p._path}${O}`,label:F,prefix:(f?`${f} > `:"")+`${((Te=p.navigation)==null?void 0:Te.title)||p.title}`,to:`${p._path}${O}`,children:T(se),icon:w(p),child:!0}})].filter(Boolean)}),filter:(p,f)=>p?f:f==null?void 0:f.filter(y=>!y.child)})),...s.groups||[],!(i!=null&&i.forced)&&!s.hideColorMode&&{key:"theme",label:"Theme",commands:[{id:"theme-light",label:"Light",icon:r.ui.icons.light,disabled:i.preference==="light",click:()=>{i.preference="light"}},{id:"theme-dark",label:"Dark",icon:r.ui.icons.dark,disabled:i.preference==="dark",click:()=>{i.preference="dark"}}]}].filter(Boolean)}),A=M(()=>u.value||!l.value);function E(g){return g==null?void 0:g.map(m=>{var p;return["code","code-inline","em","a","strong"].includes(m.tag)?{type:"text",value:((p=m.children.find(f=>f.type==="text"))==null?void 0:p.value)||""}:m})}function T(g){return g.map(m=>{var p;return["callout"].includes(m.tag)&&(m.children=T(m.children)),m.tag==="p"&&(m.children=E(m.children),m.children=(p=m.children)==null?void 0:p.reduce((f,y)=>(y.type==="text"&&f.length&&f[f.length-1].type==="text"?f[f.length-1].value+=y.value:f.push(y),f),[])),["style"].includes(m.tag)?null:m})}function L(g){var y;const m={};let p="",f;for(const S of g)["h2","h3"].includes(S.tag)&&(f=(y=S.children)==null?void 0:y.map(R=>{var O,F;if(R.type==="text")return R.value;if(["code","code-inline","em","a","strong"].includes(R.tag))return(F=(O=R.children)==null?void 0:O.find(se=>se.type==="text"))==null?void 0:F.value}).filter(Boolean).join(" "),f&&(p=`#${S.props.id}`)),m[p]?m[p].children.push(S):m[p]={children:[S],title:f};return m}function b(g){u.value=!1,g.click?g.click():g.to?g.target==="_blank"||g.to.startsWith("http")?window.open(g.to,g.target||"_blank"):o.push(g.to):g.href&&window.open(g.href,"_blank")}return fa({meta_k:{usingInput:!0,whenever:[A],handler:()=>{u.value=!u.value}},escape:{usingInput:!0,whenever:[u],handler:()=>{u.value=!1}}}),t({commandPaletteRef:I}),(g,m)=>{const p=na,f=ra;return P(),V(f,oe({modelValue:Y(u),"onUpdate:modelValue":m[1]||(m[1]=y=>zt(u)?u.value=y:null),overlay:!Y(x),transition:!Y(x),ui:Y(d)},Y(h)),{default:z(()=>[ue(p,{ref_key:"commandPaletteRef",ref:I,groups:Y(v),ui:Y(d).commandPalette,"close-button":Y(d).commandPalette.closeButton,fuse:Y(C),"onUpdate:modelValue":b,onClose:m[0]||(m[0]=y=>u.value=!1)},null,8,["groups","ui","close-button","fuse"])]),_:1},16,["modelValue","overlay","transition","ui"])}}});export{ga as default};
